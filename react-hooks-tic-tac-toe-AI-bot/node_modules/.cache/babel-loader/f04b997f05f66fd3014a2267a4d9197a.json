{"ast":null,"code":"const baselineUrl = action => `https://d9u7x85vp9.execute-api.us-east-2.amazonaws.com/production/${action}`;\n\nexport async function checkUserAuth(email) {\n  await fetch(baselineUrl('auth'), {\n    method: 'POST',\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(email)\n  }).then(resp => {\n    if (resp.ok) {\n      return resp.json();\n    }\n  }).then(data => {\n    sessionStorage.setItem('bearerToken', data.token);\n  }).catch(err => console.log(err));\n}\nexport async function setMoveGetNext(boardData, setMoves, setIsXsTurn) {\n  const token = sessionStorage.getItem('bearerToken');\n\n  if (token.length) {\n    fetch(baselineUrl('engine'), {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: boardData\n    }).then(resp => {\n      if (resp.ok) {\n        return resp.json();\n      }\n    }).then(data => {\n      setIsXsTurn(true);\n      setMoves(data.board);\n      return data.board;\n    }).catch(err => console.log(err));\n  } else {\n    sessionStorage.setItem('bearerToken', null);\n  }\n}","map":{"version":3,"sources":["D:/Hoc code HTML/Day 58/react-hooks-tic-tac-toe-with-AI-bot-master/src/api/apiHandlers.js"],"names":["baselineUrl","action","checkUserAuth","email","fetch","method","mode","headers","body","JSON","stringify","then","resp","ok","json","data","sessionStorage","setItem","token","catch","err","console","log","setMoveGetNext","boardData","setMoves","setIsXsTurn","getItem","length","Authorization","board"],"mappings":"AAAA,MAAMA,WAAW,GAAIC,MAAD,IACjB,qEAAoEA,MAAO,EAD9E;;AAGA,OAAO,eAAeC,aAAf,CAA6BC,KAA7B,EAAoC;AAC1C,QAAMC,KAAK,CAACJ,WAAW,CAAC,MAAD,CAAZ,EAAsB;AAChCK,IAAAA,MAAM,EAAE,MADwB;AAEhCC,IAAAA,IAAI,EAAE,MAF0B;AAGhCC,IAAAA,OAAO,EAAE;AACR,sBAAgB;AADR,KAHuB;AAMhCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,KAAf;AAN0B,GAAtB,CAAL,CAQJQ,IARI,CAQEC,IAAD,IAAU;AACf,QAAIA,IAAI,CAACC,EAAT,EAAa;AACZ,aAAOD,IAAI,CAACE,IAAL,EAAP;AACA;AACD,GAZI,EAaJH,IAbI,CAaEI,IAAD,IAAU;AAChBC,IAAAA,cAAc,CAACC,OAAf,CAAuB,aAAvB,EAAsCF,IAAI,CAACG,KAA3C;AACA,GAfK,EAgBLC,KAhBK,CAgBEC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAhBV,CAAN;AAiBA;AAED,OAAO,eAAeG,cAAf,CAA8BC,SAA9B,EAAyCC,QAAzC,EAAmDC,WAAnD,EAAgE;AACtE,QAAMR,KAAK,GAAGF,cAAc,CAACW,OAAf,CAAuB,aAAvB,CAAd;;AAEA,MAAIT,KAAK,CAACU,MAAV,EAAkB;AACjBxB,IAAAA,KAAK,CAACJ,WAAW,CAAC,QAAD,CAAZ,EAAwB;AAC5BK,MAAAA,MAAM,EAAE,MADoB;AAE5BC,MAAAA,IAAI,EAAE,MAFsB;AAG5BC,MAAAA,OAAO,EAAE;AACRsB,QAAAA,aAAa,EAAG,UAASX,KAAM,EADvB;AAER,wBAAgB;AAFR,OAHmB;AAO5BV,MAAAA,IAAI,EAAEgB;AAPsB,KAAxB,CAAL,CASEb,IATF,CASQC,IAAD,IAAU;AACf,UAAIA,IAAI,CAACC,EAAT,EAAa;AACZ,eAAOD,IAAI,CAACE,IAAL,EAAP;AACA;AACD,KAbF,EAcEH,IAdF,CAcQI,IAAD,IAAU;AACfW,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAD,MAAAA,QAAQ,CAACV,IAAI,CAACe,KAAN,CAAR;AACA,aAAOf,IAAI,CAACe,KAAZ;AACA,KAlBF,EAmBEX,KAnBF,CAmBSC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAnBjB;AAoBA,GArBD,MAqBO;AACJJ,IAAAA,cAAc,CAACC,OAAf,CAAuB,aAAvB,EAAsC,IAAtC;AACF;AAED","sourcesContent":["const baselineUrl = (action) =>\n\t\t`https://d9u7x85vp9.execute-api.us-east-2.amazonaws.com/production/${action}`;\n\nexport async function checkUserAuth(email) {\n\tawait fetch(baselineUrl('auth'), {\n\t\tmethod: 'POST',\n\t\tmode: 'cors',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody: JSON.stringify(email),\n\t})\n\t\t.then((resp) => {\n\t\t\tif (resp.ok) {\n\t\t\t\treturn resp.json();\n\t\t\t}\n\t\t})\n\t\t.then((data) => {\n\t\tsessionStorage.setItem('bearerToken', data.token);\n\t})\n\t.catch((err) => console.log(err));\n}\n\nexport async function setMoveGetNext(boardData, setMoves, setIsXsTurn) {\n\tconst token = sessionStorage.getItem('bearerToken');\n\n\tif (token.length) {\n\t\tfetch(baselineUrl('engine'), {\n\t\t\tmethod: 'POST',\n\t\t\tmode: 'cors',\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: boardData,\n\t\t})\n\t\t\t.then((resp) => {\n\t\t\t\tif (resp.ok) {\n\t\t\t\t\treturn resp.json();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then((data) => {\n\t\t\t\tsetIsXsTurn(true);\n\t\t\t\tsetMoves(data.board);\n\t\t\t\treturn data.board;\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t} else {\n \t\t\tsessionStorage.setItem('bearerToken', null);\n\t}\n\n}\n"]},"metadata":{},"sourceType":"module"}